# Chatbot Backend

This folder contains a simple backend for a chatbot, built with FastAPI.

## Quick Start

1. **Install requirements:**
   pip install -r requirements.txt
   set "OPENAI_API_KEY" environment variable

2. **Run the server:**
   run from chatbot_backend: "python -m uvicorn main:app --reload --port 8001"
   ```
   This will start a FastAPI server for chatbot interactions at `http://localhost:8001`.

The file Demo.mov shows how to chat with the Chatbot from the frontend

## File Overview

- **main.py**: Initializes the FastAPI app and exposes endpoints for session initialization and chatting with the bot.
- **agent/**: Contains the core Agent logic and architecture for handling chat, planning, and reasoning.
- **get_documentation.py**: Script to scrape and preprocess documentation data from the ArduPilot site.
- **documentation.pkl**: Preprocessed documentation data (generated by `get_documentation.py`) used by the agent for answering questions.
- **checkpoints/**: Directory for model checkpoints (if used for advanced agent features).

## The Agent Architecture

- **Data Storage:**
  - Uses pandas DataFrames to efficiently store and query documentation data. (For larger-scale deployments, a SQL database could be used instead.)

- **Documentation Flow:**
  - Documentation is scraped from the ArduPilot site using `get_documentation.py` and saved as a pickled file (`documentation.pkl`).
  - This file is loaded by the agent at runtime to provide fast, context-aware answers.

- **Plan & Execute Dynamic:**
  - When a user sends a message, the agent first creates a "Plan"â€”a step-by-step approach for how to answer the question.
  - The agent then "Executes" this plan, which may involve querying the documentation and analyse the respond, reasoning over the data statistics,  and composing a response. After each steps it decides to continue with the plan, modify it or answer based on previous steps

## Notes
- For best results, ensure the documentation is up-to-date by running `get_documentation.py` when needed.
- The architecture is modular and can be extended for more sophisticated planning modules.
